{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Zafar Abbas\\\\Desktop\\\\Moviedb\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{POPULAR_MOVIES_FETCH_SUCCESS,TOP_RATED_MOVIES_FETCH_SUCCESS,UPCOMING_MOVIES_FETCH_SUCCESS}from\"../home/home.types\";import{GENRES_FETCH_SUCCESS}from\"../common/common.types\";import{MOVIE_PAGE_FETCH_SUCCESS,RECOMMENDED_MOVIES_FETCH_SUCCESS,SIMILAR_MOVIES_FETCH_SUCCESS}from\"../movie/movie.types\";import{MOVIE_FETCH_SUCCESS}from\"./entities.types\";import{prepareMovie}from\"../../utils\";var initialState={moviesById:{},genresById:{}};export function entitiesReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case GENRES_FETCH_SUCCESS:{var genresById={};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=payload.genres[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var genre=_step.value;genresById[genre.id]=genre.name;}}catch(err){_didIteratorError=true;_iteratorError=err;}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return();}}finally{if(_didIteratorError){throw _iteratorError;}}}return _objectSpread({},state,{genresById:genresById});}case POPULAR_MOVIES_FETCH_SUCCESS:case TOP_RATED_MOVIES_FETCH_SUCCESS:case UPCOMING_MOVIES_FETCH_SUCCESS:case SIMILAR_MOVIES_FETCH_SUCCESS:case RECOMMENDED_MOVIES_FETCH_SUCCESS:{var moviesById=_objectSpread({},state.moviesById);var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=payload.results[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var movie=_step2.value;var preparedMovie=prepareMovie({raw:movie,extended:false});if(moviesById[movie.id]&&moviesById[movie.id].isExtendedDataLoaded){moviesById[movie.id]=_objectSpread({},moviesById[movie.id],{},preparedMovie);}else{moviesById[movie.id]=preparedMovie;}moviesById[movie.id].fetchDate=new Date();}}catch(err){_didIteratorError2=true;_iteratorError2=err;}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return();}}finally{if(_didIteratorError2){throw _iteratorError2;}}}return _objectSpread({},state,{moviesById:moviesById});}case MOVIE_PAGE_FETCH_SUCCESS:case MOVIE_FETCH_SUCCESS:{var _movie=prepareMovie({raw:payload,extended:true});var _moviesById=_objectSpread({},state.moviesById);_moviesById[_movie.id]=_movie;_moviesById[_movie.id].fetchDate=new Date();return _objectSpread({},state,{moviesById:_moviesById});}default:return state;}}","map":{"version":3,"sources":["C:/Users/Zafar Abbas/Desktop/Moviedb/src/store/domains/entities/entities.reducer.js"],"names":["POPULAR_MOVIES_FETCH_SUCCESS","TOP_RATED_MOVIES_FETCH_SUCCESS","UPCOMING_MOVIES_FETCH_SUCCESS","GENRES_FETCH_SUCCESS","MOVIE_PAGE_FETCH_SUCCESS","RECOMMENDED_MOVIES_FETCH_SUCCESS","SIMILAR_MOVIES_FETCH_SUCCESS","MOVIE_FETCH_SUCCESS","prepareMovie","initialState","moviesById","genresById","entitiesReducer","state","action","type","payload","genres","genre","id","name","results","movie","preparedMovie","raw","extended","isExtendedDataLoaded","fetchDate","Date"],"mappings":"6HAAA,OACIA,4BADJ,CAEIC,8BAFJ,CAGIC,6BAHJ,KAIO,oBAJP,CAKA,OAAQC,oBAAR,KAAmC,wBAAnC,CACA,OACIC,wBADJ,CAEIC,gCAFJ,CAGIC,4BAHJ,KAIO,sBAJP,CAKA,OAAQC,mBAAR,KAAkC,kBAAlC,CACA,OAAQC,YAAR,KAA2B,aAA3B,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,UAAU,CAAE,EADK,CAEjBC,UAAU,CAAE,EAFK,CAArB,CAKA,MAAO,SAASC,CAAAA,eAAT,EAAuD,IAA9BC,CAAAA,KAA8B,2DAAtBJ,YAAsB,IAARK,CAAAA,MAAQ,8CACnDC,CAAAA,IADmD,CAClCD,MADkC,CACnDC,IADmD,CAC7CC,OAD6C,CAClCF,MADkC,CAC7CE,OAD6C,CAE1D,OAAQD,IAAR,EACI,IAAKZ,CAAAA,oBAAL,CAA2B,CACvB,GAAMQ,CAAAA,UAAU,CAAG,EAAnB,CADuB,gGAEvB,kBAAkBK,OAAO,CAACC,MAA1B,oHAAkC,IAAzBC,CAAAA,KAAyB,aAC9BP,UAAU,CAACO,KAAK,CAACC,EAAP,CAAV,CAAuBD,KAAK,CAACE,IAA7B,CACH,CAJsB,qMAKvB,wBAAWP,KAAX,EAAkBF,UAAU,CAAEA,UAA9B,GACH,CACD,IAAKX,CAAAA,4BAAL,CACA,IAAKC,CAAAA,8BAAL,CACA,IAAKC,CAAAA,6BAAL,CACA,IAAKI,CAAAA,4BAAL,CACA,IAAKD,CAAAA,gCAAL,CAAuC,CACnC,GAAMK,CAAAA,UAAU,kBAAOG,KAAK,CAACH,UAAb,CAAhB,CADmC,mGAEnC,mBAAkBM,OAAO,CAACK,OAA1B,yHAAmC,IAA1BC,CAAAA,KAA0B,cAC/B,GAAMC,CAAAA,aAAa,CAAGf,YAAY,CAAC,CAACgB,GAAG,CAAEF,KAAN,CAAaG,QAAQ,CAAE,KAAvB,CAAD,CAAlC,CACA,GAAGf,UAAU,CAACY,KAAK,CAACH,EAAP,CAAV,EAAwBT,UAAU,CAACY,KAAK,CAACH,EAAP,CAAV,CAAqBO,oBAAhD,CAAsE,CAClEhB,UAAU,CAACY,KAAK,CAACH,EAAP,CAAV,kBAA2BT,UAAU,CAACY,KAAK,CAACH,EAAP,CAArC,IAAoDI,aAApD,EACH,CAFD,IAEO,CACHb,UAAU,CAACY,KAAK,CAACH,EAAP,CAAV,CAAuBI,aAAvB,CACH,CACDb,UAAU,CAACY,KAAK,CAACH,EAAP,CAAV,CAAqBQ,SAArB,CAAiC,GAAIC,CAAAA,IAAJ,EAAjC,CACH,CAVkC,4MAWnC,wBAAWf,KAAX,EAAkBH,UAAU,CAAEA,UAA9B,GACH,CACD,IAAKN,CAAAA,wBAAL,CACA,IAAKG,CAAAA,mBAAL,CAA0B,CACtB,GAAMe,CAAAA,MAAK,CAAGd,YAAY,CAAC,CAACgB,GAAG,CAAER,OAAN,CAAeS,QAAQ,CAAE,IAAzB,CAAD,CAA1B,CACA,GAAMf,CAAAA,WAAU,kBAAOG,KAAK,CAACH,UAAb,CAAhB,CACAA,WAAU,CAACY,MAAK,CAACH,EAAP,CAAV,CAAuBG,MAAvB,CACAZ,WAAU,CAACY,MAAK,CAACH,EAAP,CAAV,CAAqBQ,SAArB,CAAiC,GAAIC,CAAAA,IAAJ,EAAjC,CACA,wBAAWf,KAAX,EAAkBH,UAAU,CAAEA,WAA9B,GACH,CACD,QACI,MAAOG,CAAAA,KAAP,CAlCR,CAoCH","sourcesContent":["import {\n    POPULAR_MOVIES_FETCH_SUCCESS,\n    TOP_RATED_MOVIES_FETCH_SUCCESS,\n    UPCOMING_MOVIES_FETCH_SUCCESS\n} from \"../home/home.types\"\nimport {GENRES_FETCH_SUCCESS} from \"../common/common.types\"\nimport {\n    MOVIE_PAGE_FETCH_SUCCESS,\n    RECOMMENDED_MOVIES_FETCH_SUCCESS,\n    SIMILAR_MOVIES_FETCH_SUCCESS\n} from \"../movie/movie.types\"\nimport {MOVIE_FETCH_SUCCESS} from \"./entities.types\"\nimport {prepareMovie} from \"../../utils\"\n\nconst initialState = {\n    moviesById: {},\n    genresById: {}\n}\n\nexport function entitiesReducer(state = initialState, action) {\n    const {type, payload} = action\n    switch (type) {\n        case GENRES_FETCH_SUCCESS: {\n            const genresById = {}\n            for (let genre of payload.genres) {\n                genresById[genre.id] = genre.name\n            }\n            return {...state, genresById: genresById}\n        }\n        case POPULAR_MOVIES_FETCH_SUCCESS:\n        case TOP_RATED_MOVIES_FETCH_SUCCESS:\n        case UPCOMING_MOVIES_FETCH_SUCCESS:\n        case SIMILAR_MOVIES_FETCH_SUCCESS:\n        case RECOMMENDED_MOVIES_FETCH_SUCCESS: {\n            const moviesById = {...state.moviesById}\n            for (let movie of payload.results) {\n                const preparedMovie = prepareMovie({raw: movie, extended: false})\n                if(moviesById[movie.id] && moviesById[movie.id].isExtendedDataLoaded) {\n                    moviesById[movie.id] = {...moviesById[movie.id], ...preparedMovie}\n                } else {\n                    moviesById[movie.id] = preparedMovie\n                }\n                moviesById[movie.id].fetchDate = new Date()\n            }\n            return {...state, moviesById: moviesById}\n        }\n        case MOVIE_PAGE_FETCH_SUCCESS:\n        case MOVIE_FETCH_SUCCESS: {\n            const movie = prepareMovie({raw: payload, extended: true})\n            const moviesById = {...state.moviesById}\n            moviesById[movie.id] = movie\n            moviesById[movie.id].fetchDate = new Date()\n            return {...state, moviesById: moviesById}\n        }\n        default:\n            return state\n    }\n}\n"]},"metadata":{},"sourceType":"module"}