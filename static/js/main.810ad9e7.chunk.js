(this["webpackJsonpmoviedb-react"]=this["webpackJsonpmoviedb-react"]||[]).push([[0],{134:function(e,t,a){e.exports=a.p+"static/media/abstract_movie_poster.bca418f3.svg"},157:function(e,t,a){e.exports=a(214)},162:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),o=a.n(i),c=(a(162),a(20)),s=a(19),l=a(13),u=a(271),d=a(272),m=a(106),p=a.n(m),v=a(85),g=a.n(v),h=function(){var e=0;return function(){return e++}}();function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0;return Array.isArray(e)?e.forEach((function(e){return f(e,t,a)})):"string"===typeof e?a({type:e,payload:t}):"function"===typeof e?e(a,t):void console.error("'action' prop must be a string or function, but got: "+typeof e)}function E(){return{id:"TASK-"+h(),isCancelled:!1,isDone:!1,_handlers:{cancel:[],done:[]},cancel:function(){var e=this;Object.isFrozen(this)||(this.isCancelled=!0,this._handlers.cancel.forEach((function(t){return t&&t(e)})))},done:function(){var e=this;this.isDone=!0,this._handlers.done.forEach((function(t){return t&&t(e)})),Object.freeze(this)},subscribe:function(e,t){this._handlers[e].push(t)},unsubscribe:function(e,t){this._handlers[e]=this._handlers[e].filter((function(e){return e!==t}))}}}E.events={DONE:"done",CANCEL:"cancel"};var b="4e44d9029b1270a757cddc766a1bcb63",y="MOVIEDB_MIDDLEWARE",O="MovieDB Api Middleware";function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return g()({baseURL:"https://api.themoviedb.org/3/",url:e,method:"get",cancelToken:a.token,params:Object.assign({},{api_key:b,language:"en-US"},t),timeout:15e3})}var _="GENRES_FETCH_REQUEST",S="GENRES_FETCH_SUCCESS",I="GENRES_FETCH_FAIL",C="ADD_ERROR",F="REMOVE_ERROR";var j=a(92);var R=a(249),w=[];var x=Object(j.b)(Object(s.c)((function(e){return{errors:e.ui.errors}}),(function(e){return{removeError:function(t){return e({type:F,payload:{error:t}})}}}))((function(e){var t=e.enqueueSnackbar,a=e.closeSnackbar,i=e.removeError,o=e.errors,c=void 0===o?[]:o;return Object(n.useEffect)((function(){c.forEach((function(e){w.includes(e.id)||(t(e.message,{key:e.id,variant:"error",action:function(e){return r.a.createElement(R.a,{onClick:function(){return a(e)}},"OK")},onExited:function(t,a,n){w.splice(w.indexOf(e.id),1),i(e)}}),w.push(e.id))}))}),[c,a,t,i]),null}))),A=a(7),k=a(256),T=a(274),N=a(255),D=a(50),L=a.n(D),U=a(248),P=a(93),H=a(18),V={UNKNOWN:"#999",BAD:"#d63737",OK:"#a7a7a7",GOOD:"#5fbb67",EXCELLENT:"#3bb33b"};function G(e){var t=V.EXCELLENT;return e&&0!==e?e<5.5?t=V.BAD:e<6.5?t=V.OK:e<7.25&&(t=V.GOOD):t=V.UNKNOWN,t}var B=a(45),z=a.n(B),q=a(105),W=a.n(q),Q=a(140),J=a.n(Q),K=Object(U.a)((function(e){return{root:{position:"relative",boxShadow:"none",textDecoration:"none",color:"inherit","&:hover":{"& $posterImage":{transform:"scale(1.075)"},"& $posterOverlay":{opacity:1},"& $favoriteBtn":{display:"flex"}}},posterContainer:{position:"relative",overflow:"hidden"},posterImage:{position:"relative",display:"block",width:"100%",minHeight:250,borderRadius:"4px",backgroundColor:"#e8e8e8",transition:"all 0.15s ease-in-out"},posterOverlay:{position:"absolute",content:'""',width:"100%",height:"100%",left:0,top:0,opacity:0,transition:"all 0.15s ease-in-out",background:"linear-gradient(180deg, rgba(255,255,255,0) 41%, rgba(0,0,0,0.40) 100%)"},details:{padding:"6px 4px"},movieName:{fontWeight:"normal",margin:"4px 0 8px 0",lineHeight:"140%"},score:Object(A.a)({display:"inline-flex",position:"absolute",left:-5,top:8,justifyContent:"center",fontWeight:"bold",padding:"2px 8px",minWidth:30,color:"white",background:"#83d620",borderRadius:2},e.breakpoints.down("xs"),{left:-8,top:12,fontSize:"1.5rem",minWidth:40}),extraInfo:{color:"grey",lineHeight:"150%"},favoriteBtn:Object(A.a)({display:"none",position:"absolute",right:10,top:10,minWidth:16,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),color:"white",background:"rgba(75, 87, 95, 0.9)","&:hover":{background:"rgba(245, 0, 87, 1)"}},e.breakpoints.down("xs"),{display:"flex",padding:e.spacing(2.5),"& svg":{height:e.spacing(4),width:e.spacing(4)}}),favoriteBtnActive:{display:"flex",color:"white",background:"rgba(245, 0, 87, 1)","&:hover":{background:"rgba(245, 0, 87, 0.85)"}}}}));var Y=function(e){var t=e.id,a=e.title,n=e.genres,i=e.voteAverage,o=e.releaseDate,c=e.posterImageUrl,s=e.isFavorite,l=e.onFavorite,u=K(),d=G(i),m=i>0?i:"-";return r.a.createElement(H.a,{className:u.root,to:"/movie/"+t},r.a.createElement("div",{className:u.posterContainer},r.a.createElement("img",{className:u.posterImage,src:c,alt:a}),r.a.createElement("div",{className:u.posterOverlay}),r.a.createElement(R.a,{variant:"contained",color:"secondary",size:"medium",onClick:function(e){e.stopPropagation(),e.preventDefault(),l&&l(t)},className:J()([u.favoriteBtn,Object(A.a)({},u.favoriteBtnActive,s)])},s?r.a.createElement(z.a,null):r.a.createElement(W.a,null))),r.a.createElement("div",{className:u.details},r.a.createElement(P.a,{component:"h4",className:u.movieName},a),r.a.createElement(P.a,{variant:"body1",className:u.score,style:{backgroundColor:d}},m),r.a.createElement(P.a,{variant:"body1",className:u.extraInfo},new Date(o).getFullYear()," \u2022 ",n.length?n.slice(0,3).join(", "):"-")))},X=a(253),$=a(2),Z=a.n($),ee=(Z.a.shape({id:Z.a.oneOfType([Z.a.string,Z.a.number]).isRequired,title:Z.a.string.isRequired,overview:Z.a.string.isRequired,genres:Z.a.arrayOf(Z.a.string).isRequired,releaseDate:Z.a.instanceOf(Date).isRequired,voteAverage:Z.a.number.isRequired,posterImageUrl:Z.a.string,backdropImageUrl:Z.a.string,duration:Z.a.number,budget:Z.a.number,backdropImage:Z.a.string,posterImage:Z.a.string,productionCountries:Z.a.arrayOf(Z.a.string),legend:Z.a.string,actors:Z.a.arrayOf(Z.a.exact({id:Z.a.oneOfType([Z.a.string,Z.a.number]),name:Z.a.string,character:Z.a.string,gender:Z.a.number,photo:Z.a.string})),crew:Z.a.arrayOf(Z.a.exact({id:Z.a.oneOfType([Z.a.number,Z.a.string]),name:Z.a.string,department:Z.a.string,job:Z.a.string,gender:Z.a.number,photo:Z.a.string})),isExtendedDataLoaded:Z.a.bool}),a(254)),te=a(277),ae=a(251);function ne(){return r.a.createElement(te.a,null,r.a.createElement(ae.a,{variant:"rect",width:"100%",height:270}),r.a.createElement(ae.a,{variant:"rect",style:{marginTop:15},width:"100%"}),r.a.createElement(ae.a,{variant:"rect",style:{marginTop:8},width:"70%"}))}var re=a(252),ie=Object(U.a)((function(e){return{item:Object(A.a)({cursor:"pointer",padding:e.spacing(1),transition:"all 0.1s cubic-bezier(0.43, 0.57, 0, 0.99)",transitionDelay:"0.075s","&:hover":{background:"white",zIndex:2}},e.breakpoints.down("sm"),{padding:"15px 25px !important"})}}));function oe(e){var t=e.children,a=ie();return r.a.createElement(re.a,{className:a.item,item:!0,xs:12,sm:4,md:2},t)}var ce=function(e){var t=e.children;return r.a.createElement(re.a,{container:!0,justify:"flex-start",wrap:"wrap",spacing:2},t)},se=Object(U.a)((function(e){return{loader:{height:400,width:300,margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},button:{marginTop:20,color:"white",border:"1px solid white"},buttonProgress:{color:e.palette.secondary,animationDuration:"550ms",marginRight:6}}}));var le=function(e){var t=e.movies,a=void 0===t?[]:t,n=e.isFetching,i=e.isFetched,o=e.totalMovies,c=e.placeholdersAmount,s=void 0===c?5:c,l=e.onLoadMore,u=e.onFavorite,d=se(),m=a.length<o&&!!l;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null,(i?a:Array.from(new Array(s))).map((function(e,t){return r.a.createElement(oe,{key:e?e.id:"index:"+t},e?r.a.createElement(L.a,{height:400,once:!0,placeholder:r.a.createElement(ne,null)},r.a.createElement(Y,Object.assign({},e,{onFavorite:u}))):r.a.createElement(ne,null))}))),m&&r.a.createElement(R.a,{className:d.button,variant:"outlined",fullWidth:!0,size:"large",disabled:n,onClick:l},n?r.a.createElement(X.a,{className:d.buttonProgress,variant:"indeterminate",disableShrink:!0,size:16,thickness:4}):r.a.createElement(ee.a,{className:d.buttonProgress}),n?"Loading...":"Load more"))},ue="POPULAR_MOVIES_FETCH_REQUEST",de="POPULAR_MOVIES_FETCH_SUCCESS",me="POPULAR_MOVIES_FETCH_FAIL",pe="TOP_RATED_MOVIES_FETCH_REQUEST",ve="TOP_RATED_MOVIES_FETCH_SUCCESS",ge="TOP_RATED_MOVIES_FETCH_FAIL",he="UPCOMING_MOVIES_FETCH_REQUEST",fe="UPCOMING_MOVIES_FETCH_SUCCESS",Ee="UPCOMING_MOVIES_FETCH_FAIL";var be="USER_VISITED_MOVIE",ye="USER_FAVORITE_TOGGLE",Oe="USER_CLEANED_VISITED_MOVIES";function Me(e){return{type:ye,payload:{id:e}}}var _e=a(9);function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w500";return e?"https://image.tmdb.org/t/p/".concat(t).concat(e):null}function Ie(e,t,a){var n=t.moviesById[e];return n?Object(_e.a)({},n,{genres:n.genreIds.map((function(e){return t.genresById[e]})),isFavorite:-1!==a.favoriteMovieIds.indexOf(e)}):null}function Ce(e){var t=e.raw,a=void 0===t?{}:t,n=e.posterSize,r=void 0===n?"w500":n,i=e.backdropSize,o=void 0===i?"original":i,c=e.extended,s=void 0!==c&&c,l={id:a.id,title:a.title,overview:a.overview,genreIds:a.genres?a.genres.map((function(e){return e.id})):a.genre_ids,voteAverage:a.vote_average,releaseDate:new Date(a.release_date),posterImageUrl:Se(a.poster_path,r),backdropImageUrl:Se(a.backdrop_path,o),popularity:a.popularity},u=s?{duration:a.runtime,budget:a.budget,productionCountries:(a.production_countries||[]).map((function(e){return e.name})),legend:a.tagline,actors:(a.credits||[]).cast.map((function(e){return{id:e.id,name:e.name,character:e.character,gender:e.gender,photo:Se(e.profile_path)}})),crew:(a.credits||[]).crew.map((function(e){return{id:e.id,department:e.department,job:e.job,gender:e.gender,name:e.name,photo:Se(e.profile_path)}})),isExtendedDataLoaded:!0}:null;return Object.assign(l,u)}var Fe=a(109),je=a.n(Fe),Re=Object(U.a)((function(e){return{movieList:{margin:"20px 0px"},container:{margin:"12px auto"}}})),we=je()({root:{textAlign:"center",borderRadius:4,overflow:"hidden",background:"#66AD47"},indicator:{background:"none"}})(T.a),xe=je()({root:{minWidth:110},selected:{background:"#F4BE2C",color:"white"}})(N.a),Ae={POPULAR:"popular",TOP_RATED:"top-rated",UPCOMING:"upcoming"},ke=20;var Te=Object(s.c)((function(e){return{isAppReady:e.common.isAppReady,popularMovies:e.home.popularMovies,topRatedMovies:e.home.topRatedMovies,upcomingMovies:e.home.upcomingMovies,entities:e.entities,user:e.user}}),(function(e){return{fetchPopularMovies:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"FETCH_POPULAR_MOVIES",payload:null,meta:{target:y,method:"GET",params:{page:e},url:"movie/popular",handlers:{request:ue,success:de,fail:[C,me]}}}}(t))},fetchTopRatedMovies:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"FETCH_TOP_RATED_MOVIES",payload:null,meta:{target:y,method:"GET",params:{page:e},url:"movie/top_rated",handlers:{request:pe,success:ve,fail:[C,ge]}}}}(t))},fetchUpcomingMovies:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"FETCH_UPCOMING_MOVIES",payload:null,meta:{target:y,method:"GET",params:{page:e},url:"movie/upcoming",handlers:{request:he,success:fe,fail:[C,Ee]}}}}(t))},toggleFavorite:function(t){return e(Me(t))}}}))((function(e){var t,a=e.isAppReady,i=e.popularMovies,o=e.topRatedMovies,s=e.upcomingMovies,l=e.entities,u=e.user,d=e.toggleFavorite,m=e.fetchPopularMovies,p=e.fetchTopRatedMovies,v=e.fetchUpcomingMovies,g=Object(n.useState)(Ae.POPULAR),h=Object(c.a)(g,2),f=h[0],E=h[1],b=(t={},Object(A.a)(t,Ae.POPULAR,{movies:i,fetch:m}),Object(A.a)(t,Ae.TOP_RATED,{movies:o,fetch:p}),Object(A.a)(t,Ae.UPCOMING,{movies:s,fetch:v}),t),y=b[f],O=a?y.movies.ids.map((function(e){return Ie(e,l,u)})):[];function M(e){E(e);var t=b[e];t.movies.ids.length||t.fetch()}Object(n.useEffect)((function(){M(Ae.POPULAR)}),[]);var _=Re();return r.a.createElement(k.a,{className:_.container},r.a.createElement(we,{value:f,onChange:function(e,t){return M(t)},"aria-label":"disabled tabs example"},r.a.createElement(xe,{label:"Popular",value:Ae.POPULAR}),r.a.createElement(xe,{label:"Top rated",value:Ae.TOP_RATED}),r.a.createElement(xe,{label:"Upcoming",value:Ae.UPCOMING})),r.a.createElement("main",{className:_.movieList},r.a.createElement(le,{onLoadMore:function(){y.movies.totalMovies!==y.movies.ids.length&&y.fetch(y.movies.ids.length/ke+1)},placeholdersAmount:10,movies:O,onFavorite:d,isFetched:y.movies.isFetched,isFetching:!a||y.movies.isFetching,totalMovies:y.movies.totalMovies})))})),Ne=a(259),De=a(261),Le=a(262),Ue=a(263),Pe=a(6),He=a(275),Ve=a(91),Ge=a.n(Ve),Be=Object(U.a)((function(e){return{root:{position:"relative",display:"flex",flexWrap:"nowrap"},icon:{position:"absolute",left:0,top:0,display:"flex",height:"100%",width:e.spacing(7),pointerEvents:"none",alignItems:"center",justifyContent:"center"},input:{color:"inherit",paddingLeft:e.spacing(7),padding:4,transition:e.transitions.create("background"),background:"rgba(0, 0, 0, 0.05)",borderRadius:e.shape.borderRadius,width:"100%","&:focus, &:hover":{background:"rgba(0, 0, 0, 0.065)"},"&:focus":{minWidth:400}}}}));var ze=function(e){var t=e.value,a=e.placeholder,n=e.onChange,i=e.onFocus,o=e.onBlur,c=e.style,s=Be();return r.a.createElement("div",{className:s.root,style:c},r.a.createElement("div",{className:s.icon},r.a.createElement(Ge.a,null)),r.a.createElement(He.a,{className:s.input,value:t,type:"search",onChange:n,onFocus:i,onBlur:o,placeholder:a,inputProps:{"aria-label":"search"}}))},qe=a(257),We=a(258),Qe=Object(U.a)((function(e){return{root:{position:"fixed",maxHeight:400,width:"100%",overflowY:"auto",background:"#CAD5E2",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.22)",zIndex:2}}}));var Je=Object(U.a)((function(e){return{item:Object(A.a)({height:60,padding:e.spacing(1),paddingLeft:20},e.breakpoints.down("sm"),{height:90}),itemImage:{height:"100%",borderRadius:4,overflow:"hidden",flexShrink:0},itemInfo:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vote:{display:"flex",alignItems:"center",marginLeft:"auto",marginRight:e.spacing(1),padding:e.spacing(1),height:"100%",fontWeight:"bold",fontSize:"12pt"}}}));function Ke(e){var t=e.movie,n=Je(),i=t.posterImageUrl||a(134),o=G(t.voteAverage);return r.a.createElement(We.a,{button:!0,component:H.a,className:n.item,to:"/movie/"+t.id},r.a.createElement("img",{className:n.itemImage,src:i,alt:t.title}),r.a.createElement("div",{className:n.itemInfo},r.a.createElement(P.a,{variant:"body1"},r.a.createElement("span",{style:{fontWeight:500}},t.title),r.a.createElement("span",{style:{color:"grey"}},t.releaseDate>0?" (".concat(t.releaseDate.getFullYear(),")"):"")),r.a.createElement(P.a,{variant:"body2",component:"span",style:{color:"grey"}},t.genres.length?t.genres.join(", "):"\u2014")),r.a.createElement(P.a,{variant:"body2",className:n.vote,style:{color:o}},t.voteAverage>0?t.voteAverage:"\u2014"))}var Ye=function(e){var t=e.movies,a=void 0===t?[]:t,n=(e.fullHeight,Qe());return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{className:n.root,"aria-labelledby":"nested-list-subheader"},a.map((function(e){return r.a.createElement(Ke,{key:e.id,movie:e})}))))},Xe="SEARCH_REQUEST",$e="SEARCH_SUCCESS",Ze="SEARCH_FAIL",et="SEARCH_CANCEL",tt="SEARCH_QUERY_CHANGED",at={type:"DO_NOTHING"},nt={isDone:!0,isCancelled:!1};function rt(){return nt.isDone||nt.isCancelled?{type:et}:(nt.cancel(),at)}var it=a(260),ot=a(28),ct=Object(U.a)((function(e){return{menu:{marginRight:10},brand:{textDecoration:"none",color:"inherit"},overlay:{position:"fixed",width:"100%",height:"100vh",top:0,left:0,background:"rgba(9, 9, 10, 0.6)",zIndex:1}}})),st=Object(Pe.a)({root:{color:"#333",background:"white",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}})(Ne.a),lt=Object(Pe.a)((function(e){return{root:{backgroundColor:"rgba(0, 0, 0, 0.05)",marginRight:e.spacing(1),marginLeft:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}}}))(R.a);var ut=Object(s.c)((function(e){return Object(_e.a)({},e.search,{entities:e.entities,location:e.router.location.pathname})}),(function(e){return{searchMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e&&e.trim().length?(nt.isDone||nt.isCancelled||rt(),nt=E(),{type:"MOVIES_SEARCH",payload:null,meta:{target:y,url:"search/movie",method:"GET",params:{query:e,page:t},task:nt,handlers:{request:Xe,success:$e,fail:[C,Ze],cancel:et}}}):nt.isDone||nt.isCancelled?rt():(nt.cancel(),at)}(t))},cancelSearch:function(){return e(rt())},changeQuery:function(t){return e(function(e){return{type:tt,payload:{query:e}}}(t))}}}))((function(e){var t=Object(ot.a)(),a=e.onMenu,i=e.query,o=e.foundMovies,s=e.entities,l=e.location,u=e.changeQuery,d=e.searchMovies,m=e.cancelSearch,p=ct(),v=Object(it.a)(t.breakpoints.down("sm")),g=Object(n.useState)(!1),h=Object(c.a)(g,2),f=h[0],E=h[1],b=Object(n.useState)(!1),y=Object(c.a)(b,2),O=y[0],M=y[1],_=o.map((function(e){return Object(_e.a)({},e,{genres:e.genreIds.map((function(e){return s.genresById[e]}))})})),S=Object(n.useCallback)(function(e,t){var a,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var r=this,i=arguments,o=function(){a=null,n||e.apply(r,i)},c=n&&!a;clearTimeout(a),a=setTimeout(o,t),c&&e.apply(r,i)}}((function(e){d(e),M(!0)}),600),[d]);function I(e){var t=e.target.value;u(t),m(),t.length&&t.trim().length<2||S(t)}return Object(n.useEffect)((function(){var e;e=!(O&&o.length),document.body.style.overflow=e?"":"hidden"}),[O,o]),Object(n.useEffect)((function(){M(!1)}),[l]),v?r.a.createElement(r.a.Fragment,null,O&&r.a.createElement("div",{className:p.overlay,onClick:function(e){return M(!1)}}),r.a.createElement(st,{position:"sticky"},r.a.createElement(De.a,null,r.a.createElement(Le.a,{onClick:a,edge:"start",color:"inherit","aria-label":"menu",className:p.menu},r.a.createElement(Ue.a,null)),r.a.createElement(P.a,{variant:"h6",noWrap:!0},r.a.createElement(H.a,{to:"/",className:p.brand}," Movie App \ud83d\udc4b ")),r.a.createElement(Le.a,{onClick:function(e){return E(!f)},style:{marginLeft:"auto"}},r.a.createElement(Ge.a,null))),f&&r.a.createElement("div",{style:{margin:"5px 15px 10px 15px"}},r.a.createElement(ze,{value:i,style:{width:"100%",height:50},placeholder:"Search...",onChange:I,onBlur:function(e){return!i&&M(!1)},onFocus:function(){return M(!0)}}))),!!_.length&&O&&r.a.createElement(Ye,{movies:_})):r.a.createElement(r.a.Fragment,null,O&&r.a.createElement("div",{className:p.overlay,onClick:function(e){return M(!1)}}),r.a.createElement(st,{position:"sticky",style:{color:"#1FAA59",direction:"flex",backgroundColor:"#242B2E"}},r.a.createElement(De.a,null,r.a.createElement(ze,{className:"inputID",value:i,placeholder:"Search...",style:{marginLeft:30,width:250},onChange:I,onBlur:function(e){return!i&&M(!1)},onFocus:function(){return M(!0)}}),r.a.createElement(P.a,{variant:"h6",noWrap:!0,style:{marginLeft:"25vw"}},r.a.createElement(H.a,{to:"/",className:p.brand},"Movie App \ud83d\udc4b")),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(lt,{component:H.a,to:"/favorites",color:"inherit"},r.a.createElement(z.a,{style:{marginRight:10,fill:"#f50057"}}),"Favorites")))),!!_.length&&O&&r.a.createElement(Ye,{movies:_}))})),dt=a(276),mt="MOVIE_PAGE_FETCH_REQUEST",pt="MOVIE_PAGE_FETCH_SUCCESS",vt="MOVIE_PAGE_FETCH_FAIL",gt="SIMILAR_MOVIES_FETCH_REQUEST",ht="SIMILAR_MOVIES_FETCH_SUCCESS",ft="SIMILAR_MOVIES_FETCH_FAIL",Et="RECOMMENDED_MOVIES_FETCH_REQUEST",bt="RECOMMENDED_MOVIES_FETCH_SUCCESS",yt="RECOMMENDED_MOVIES_FETCH_FAIL";var Ot=Object(U.a)((function(e){return{skeleton:{background:"rgb(181, 181, 181)"},icon:{color:"rgb(181, 181, 181)"}}}));var Mt=function(){var e=Ot(),t=function(t){return r.a.createElement(ae.a,{variant:"text",width:t,height:28,className:e.skeleton})},a=function(t){return Array.from(new Array(t)).map((function(t,a){return r.a.createElement(ae.a,{variant:"text",key:a,width:100-8*Math.random()+"%",height:20,className:e.skeleton})}))};return r.a.createElement(re.a,{container:!0,spacing:7},r.a.createElement(re.a,{item:!0,md:3},r.a.createElement(ae.a,{variant:"rect",height:356,style:{borderRadius:10},width:"100%",className:e.skeleton})),r.a.createElement(re.a,{item:!0,md:8,style:{color:"white"}},r.a.createElement(ae.a,{variant:"text",width:100,height:20,className:e.skeleton}),r.a.createElement(ae.a,{variant:"text",width:300,height:34,className:e.skeleton}),r.a.createElement("div",null,r.a.createElement(dt.a,{value:4,classes:{iconEmpty:e.icon},readOnly:!0})),t(50),a(4),r.a.createElement("br",null),t(70),a(3)))},_t={formatDate:function(e){return"".concat(e.getDay()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],", ").concat(e.getFullYear())},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},St=Object(U.a)((function(e){return{container:{height:300,background:"#f3f3f3",borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center",color:"rgba(0, 0, 0, 0.25)"}}}));var It=function(e){var t=e.text,a=St();return r.a.createElement("div",{className:a.container},r.a.createElement(P.a,{variant:"body1"},t))},Ct=a(141),Ft=a.n(Ct),jt=a(264);var Rt=Object(U.a)((function(e){return{movieContainer:{paddingTop:50,paddingBottom:50},backdrop:{position:"absolute",height:"100%",width:"100%",zIndex:-1,"&:after":{position:"absolute",content:"''",display:"block",top:0,left:0,width:"100%",height:"100%",background:"rgba(30, 47, 60, 0.75)",backgroundImage:"radial-gradient(circle at 20% 50%, rgba(30, 47, 60, 0.75) 0%, rgba(48, 65, 78, 0.75) 100%)"}},backdropImage:{display:"block",width:"100%",height:"100%",objectFit:"cover"},poster:{width:"100%",borderRadius:10,boxShadow:"0px 3px 20px #0000003b"},releaseDate:{fontSize:"11pt",color:"#dadde2"},vote:{display:"flex",alignItems:"center",fontSize:"12pt"},genreList:{listStyle:"none",padding:0,display:"flex",flexWrap:"wrap"},genre:{cursor:"pointer",padding:"1px 6px",marginRight:10,border:"1px solid white",borderRadius:4,fontSize:"10pt"},subtitle:{marginBottom:8,fontSize:"13pt"},crewList:{listStyle:"none",padding:0}}}));function wt(e){var t=e.movie,n=e.loaded,i=e.onFavorite,o=t.id,c=t.title,s=t.genres,l=t.duration,u=t.budget,d=t.backdropImageUrl,m=t.posterImageUrl,p=t.releaseDate,v=t.productionCountries,g=t.voteAverage,h=t.legend,f=t.overview,E=t.crew,b=(t.actors,t.isFavorite),y=Rt(),O=function(){window.open("/Page404")},M=m||a(134);return r.a.createElement("main",{style:{position:"relative"}},r.a.createElement("div",{className:y.backdrop},r.a.createElement("img",{className:y.backdropImage,src:d,alt:"Backdrop of "+c})),r.a.createElement(k.a,{className:y.movieContainer},n?r.a.createElement(re.a,{container:!0,spacing:7},r.a.createElement(re.a,{item:!0,md:3},r.a.createElement("img",{className:y.poster,src:M,alt:"Poster of "+c})),r.a.createElement(re.a,{item:!0,md:9,style:{color:"white"}},r.a.createElement("div",{className:y.releaseDate},_t.formatDate(p)," (",v.join(", "),")"),r.a.createElement(P.a,{variant:"h4",style:{fontWeight:"bold"},component:"h1"},c),r.a.createElement("ul",{className:y.genreList},s.map((function(e){return r.a.createElement("li",{className:y.genre,key:e},e)}))),r.a.createElement("div",{className:y.vote},r.a.createElement(dt.a,{value:g/2,readOnly:!0}),r.a.createElement("span",{style:{margin:"2px 0px 0 6px"}},g,"/10"),r.a.createElement(R.a,{style:{marginLeft:16},onClick:function(){return i(o)},variant:b?"contained":"outlined",color:"secondary","aria-label":"like"},r.a.createElement(z.a,null)," Add to Favourites"),r.a.createElement(R.a,{style:{marginLeft:25},onClick:O,variant:O?"contained":"outlined",color:"primary","aria-label":"like"},r.a.createElement(Ft.a,null)," Show Preview"),r.a.createElement(R.a,{href:"/",style:{color:"#1FAA59",marginLeft:"25px"},variant:O?"contained":"outlined"},r.a.createElement(jt.a,null)," Home")),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(P.a,{component:"div",style:{marginRight:15}},r.a.createElement("b",null,"Duration:")," ",l," min."),r.a.createElement(P.a,{component:"div"},r.a.createElement("b",null,"Budget:")," ",u?"$"+_t.numberWithCommas(u):"-")),h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:y.subtitle},"Legend"),r.a.createElement(P.a,{variant:"body1"},h)),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:y.subtitle},"Overview"),r.a.createElement(P.a,{variant:"body1"},f)),E.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:y.subtitle},"Crew"),r.a.createElement(re.a,{container:!0,spacing:3,component:"ul",className:y.crewList},E.slice(0,4).map((function(e,t){return r.a.createElement(re.a,{item:!0,md:3,sm:6,component:"li",key:t,style:{paddingRight:16}},r.a.createElement(P.a,{variant:"body2",style:{fontWeight:"bold"}},e.name),r.a.createElement(P.a,{variant:"body2"},e.department,", ",e.job))})))))):r.a.createElement(Mt,null)))}function xt(e){var t=e.id,a=e.movie,i=e.entities,o=e.user,c=e.toggleFavorite,s=e.fetchSimilarMovies,l=e.fetchRecommendedMovies,u=a.recommendedMovies,d=a.similarMovies,m=u.ids.slice(0,6).map((function(e){return Ie(e,i,o)})),p=d.ids.slice(0,6).map((function(e){return Ie(e,i,o)})),v=Object(n.useCallback)((function(){return s(t)}),[t,s]),g=Object(n.useCallback)((function(){return l(t)}),[t,l]);return r.a.createElement(k.a,null,r.a.createElement("section",null,r.a.createElement("h2",null,"Recommended movies"),r.a.createElement(L.a,{height:400},r.a.createElement(At,{isFetching:u.isFetching,isFetched:u.isFetched,movies:m,amount:6,fetch:g,onFavorite:c}))),r.a.createElement("section",null,r.a.createElement("h2",null,"Similar movies"),r.a.createElement(L.a,{height:400},r.a.createElement(At,{isFetching:d.isFetching,isFetched:d.isFetched,movies:p,amount:6,fetch:v,onFavorite:c}))))}function At(e){var t=e.isFetching,a=e.isFetched,i=e.movies,o=void 0===i?[]:i,c=e.amount,s=e.fetch,l=e.onFavorite;return Object(n.useEffect)((function(){s()}),[s]),a&&!o.length?r.a.createElement(It,{text:"There is no data for this movie"}):r.a.createElement(le,{placeholdersAmount:c,isFetching:t,isFetched:a,movies:o,onFavorite:l})}var kt=Object(s.c)((function(e){var t=e.movie.isFetched?Ie(e.movie.id,e.entities,e.user):{};return t=Object(_e.a)({},t,{},e.movie),{isAppReady:e.common.isAppReady,movie:t,entities:e.entities,user:e.user}}),(function(e){return{fetchMovie:function(t){return e(function(e){return{type:"FETCH_MOVIE_PAGE",payload:null,meta:{target:y,method:"GET",url:"/movie/"+e,params:{append_to_response:"credits"},handlers:{request:mt,success:pt,fail:[C,vt]}}}}(t))},fetchSimilarMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"FETCH_SIMILAR_MOVIES",payload:null,meta:{target:y,method:"GET",url:"movie/".concat(e,"/similar"),params:{page:t},handlers:{request:gt,success:ht,fail:[C,ft]}}}}(t))},fetchRecommendedMovies:function(t){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:"FETCH_RECOMMENDED_MOVIES",payload:null,meta:{target:y,method:"GET",url:"movie/".concat(e,"/recommendations"),params:{page:t},handlers:{request:Et,success:bt,fail:[C,yt]}}}}(t))},toggleFavorite:function(t){return e(Me(t))},makeMovieVisited:function(t){return e(function(e){return{type:be,payload:{id:e}}}(t))}}}))((function(e){var t=Object(l.f)().id,a=e.isAppReady,i=e.movie,o=e.fetchMovie,c=e.toggleFavorite,s=e.makeMovieVisited;return Object(n.useEffect)((function(){o(t),window.scrollTo({top:0,left:0})}),[t,o]),Object(n.useEffect)((function(){i.isFetched&&s(i.id)}),[i.id,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,{movie:i,loaded:a&&i.isFetched,onFavorite:c}),r.a.createElement(xt,Object.assign({},e,{id:t})))})),Tt=a(142),Nt=Object(U.a)((function(e){return{container:{minHeight:"80vh",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},subtitle:{fontSize:"14pt"},action:{textDecoration:"none",color:"#0037ff",margin:6,"&:hover":{textDecoration:"underline"}}}}));var Dt=function(e){var t=Nt();return r.a.createElement(k.a,{className:t.container},r.a.createElement(Tt.a,{src:"https://content.jwplatform.com/manifests/yp34SRmf.m3u8",autoPlay:!0,controls:!0,width:"100%",height:"auto"}),r.a.createElement("div",{className:t.subtitle},"Go back to",r.a.createElement(H.a,{className:t.action,to:"/"},"Home page.")))},Lt="MOVIE_FETCH_REQUEST",Ut="MOVIE_FETCH_SUCCESS",Pt="MOVIE_FETCH_FAIL";var Ht=function(e){var t=e.id,a=e.movie,i=e.ready,o=e.fetch,c=e.onFavorite;return Object(n.useEffect)((function(){!a&&i&&o(t)}),[t,a,o,i]),a?r.a.createElement(Y,Object.assign({},a,{onFavorite:c})):r.a.createElement(ne,null)};var Vt=Object(s.c)((function(e){return{isAppReady:e.common.isAppReady,movieIds:e.user.favoriteMovieIds,entities:e.entities,user:e.user}}),(function(e){return{fetchMovie:function(t){return e(function(e){return{type:"FETCH_MOVIE",payload:null,meta:{target:y,method:"GET",url:"/movie/"+e,params:{append_to_response:"credits"},handlers:{request:Lt,success:Ut,fail:[C,Pt]}}}}(t))},toggleFavorite:function(t){return e(Me(t))}}}))((function(e){var t=e.isAppReady,a=e.movieIds,n=e.entities,i=e.user,o=e.fetchMovie,c=e.toggleFavorite;return r.a.createElement(k.a,{style:{margin:"20px auto",height:"100vh"}},r.a.createElement(P.a,{component:"h2",variant:"h4",style:{margin:"40px 0",color:"#fff"}},"Favorite movies"),!a.length&&r.a.createElement(It,{text:"You haven't marked favorite movies yet"}),!!a.length&&r.a.createElement(ce,null,a.map((function(e){var a=Ie(e,n,i);return r.a.createElement(L.a,{minheight:400,key:e,once:!0},r.a.createElement(oe,null,r.a.createElement(Ht,{id:e,movie:a,fetch:o,ready:t,onFavorite:c})))}))))})),Gt=a(273),Bt=a(266),zt=a(267),qt=a(265),Wt=a(268),Qt=a(269),Jt=a(270),Kt=Object(U.a)((function(e){return{list:{width:250},brand:{textDecoration:"none",color:"inherit"},text:{textAlign:"center",marginTop:"500px"},social:{marginRight:"15px",textAlign:"center"}}}));var Yt=function(e){var t=e.open,a=e.onClose,n=Kt();return r.a.createElement(Gt.a,{anchor:"left",variant:"temporary",open:t,onClose:a},r.a.createElement(qe.a,{className:n.list},r.a.createElement(We.a,{button:!0,key:"favorite"},r.a.createElement(Le.a,{onClick:a,edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(Ue.a,null)),r.a.createElement(P.a,{variant:"h6",noWrap:!0},r.a.createElement(H.a,{className:n.brand,to:"/"},"Movie App \ud83d\udc4b"))),r.a.createElement(qt.a,null),r.a.createElement(We.a,{component:H.a,to:"/favorites",button:!0,key:"favorite"},r.a.createElement(Bt.a,null,r.a.createElement(z.a,null)),r.a.createElement(zt.a,{primary:"Favorites"})),r.a.createElement(We.a,null,r.a.createElement(P.a,{variant:"h6",overflowWrap:!0},r.a.createElement(zt.a,{className:n.text,to:"/"},"This App is Made by Zafar Abbas"))),r.a.createElement(We.a,{className:n.social},r.a.createElement(H.a,{to:{pathname:"https://www.instagram.com/az.zzzafar/"},target:"_blank"},r.a.createElement(Bt.a,null,r.a.createElement(Wt.a,null))),r.a.createElement(H.a,{to:{pathname:"https://github.com/bts-zafar"},target:"_blank"},r.a.createElement(Bt.a,null,r.a.createElement(Qt.a,null))),r.a.createElement(H.a,{to:{pathname:"https://github.com/bts-zafar"},target:"_blank"},r.a.createElement(Bt.a,null,r.a.createElement(Jt.a,null))))))};var Xt=Object(s.c)((function(e){return{isLoading:!e.common.isGenresLoaded||e.search.isFetching||e.movie.isFetching,errors:e.ui.errors,location:e.router.location.pathname}}),(function(e){return{fetchGenres:function(){return e({type:"FETCH_GENRES",payload:null,meta:{target:y,method:"GET",url:"genre/movie/list",params:null,handlers:{request:_,success:S,fail:[C,I]}}})}}}))((function(e){var t=e.isLoading,a=e.location,i=e.fetchGenres,o=Object(n.useState)(!1),s=Object(c.a)(o,2),m=s[0],p=s[1];return Object(n.useEffect)((function(){i()}),[i]),Object(n.useEffect)((function(){p(!1)}),[a]),r.a.createElement(j.a,{autoHideDuration:3e4},r.a.createElement(u.a,null),r.a.createElement(x,null),t&&r.a.createElement(d.a,{style:{position:"fixed",top:0,width:"100%",zIndex:9999}}),r.a.createElement(ut,{onMenu:function(){return p(!m)}}),r.a.createElement(Yt,{open:m,onClose:function(){return p(!m)}}),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:Te}),r.a.createElement(l.a,{path:"/movie/:id",component:kt}),r.a.createElement(l.a,{path:"/favorites",component:Vt}),r.a.createElement(l.a,{component:Dt})))})),$t=a(62),Zt=a(64),ea=a(29),ta=(a(212),a(135)),aa={isAppReady:!1,isGenresLoaded:!1};var na=a(21),ra="Something went wrong";function ia(e){return"string"===typeof e?e:e.isAxiosError?e.response?404===e.response.status?ra:e.response.message?e.response.message:e.message:e.message||ra:e.message?e.message:e.error?ia(e.error):ra}var oa={errors:[]};var ca={visitedMovieIds:JSON.parse(localStorage.getItem("visitedMovies"))||[],favoriteMovieIds:JSON.parse(localStorage.getItem("favoriteMovies"))||[]};var sa={ids:[],isFetching:!0,isFetched:!1,totalMovies:0};function la(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sa,a=arguments.length>2?arguments[2]:void 0,n=a.type,r=a.payload;switch(n){case e+"_FETCH_REQUEST":return Object(_e.a)({},t,{isFetching:!0});case e+"_FETCH_SUCCESS":var i=r.total_results,o=r.results.map((function(e){return e.id}));return{ids:[].concat(Object(na.a)(t.ids),Object(na.a)(o)),isFetching:!1,isFetched:!0,totalMovies:i};case e+"_FETCH_FAIL":return Object(_e.a)({},t,{isFetching:!1,isFetched:!1});default:return t}}var ua={id:null,isFetching:!1,isFetched:!1,similarMovies:la("SIMILAR_MOVIES",void 0,{}),recommendedMovies:la("RECOMMENDED_MOVIES",void 0,{})};var da={popularMovies:la("POPULAR_MOVIES",void 0,{}),topRatedMovies:la("TOP_RATED_MOVIES",void 0,{}),upcomingMovies:la("UPCOMING_MOVIES",void 0,{})};var ma={moviesById:{},genresById:{}};var pa=a(23),va={query:"",isFetching:!1,isFetched:!1,foundMovies:[]};var ga=Object(ea.a)(),ha=Object(Zt.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case C:console.error(n.error);var r={id:h(),message:ia(n.error),date:new Date};return Object(_e.a)({},e,{errors:[].concat(Object(na.a)(e.errors),[r])});case F:var i=n.error.id;return Object(_e.a)({},e,{errors:e.errors.filter((function(e){return e.id!==i}))});default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(t.payload,a){case _:case I:return Object(_e.a)({},e,{isGenresLoaded:!1,isAppReady:!1});case S:return Object(_e.a)({},e,{isGenresLoaded:!0,isAppReady:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case ye:var r,i=n.id;return r=-1!==e.favoriteMovieIds.indexOf(i)?e.favoriteMovieIds.filter((function(e){return e!==i})):[i].concat(Object(na.a)(e.favoriteMovieIds)),localStorage.setItem("favoriteMovies",JSON.stringify(r)),Object(_e.a)({},e,{favoriteMovieIds:r});case be:var o=n.id,c=Object(na.a)(new Set([o].concat(Object(na.a)(e.visitedMovieIds))));return localStorage.setItem("visitedMovies",JSON.stringify(c)),Object(_e.a)({},e,{visitedMovieIds:c});case Oe:return localStorage.setItem("visitedMovies",JSON.stringify([])),Object(_e.a)({},e,{visitedMovieIds:[]});default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case mt:return Object(_e.a)({},ua,{isFetching:!0});case vt:return Object(_e.a)({},e,{isFetched:!1,isFetching:!1});case pt:return Object(_e.a)({},e,{id:n.id,isFetched:!0,isFetching:!1});case gt:case ht:case ft:return Object(_e.a)({},e,{similarMovies:la("SIMILAR_MOVIES",e.similarMovies,t)});case Et:case bt:case yt:return Object(_e.a)({},e,{recommendedMovies:la("RECOMMENDED_MOVIES",e.recommendedMovies,t)});default:return e}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(t.payload,a){case ue:case de:case me:return Object(_e.a)({},e,{popularMovies:la("POPULAR_MOVIES",e.popularMovies,t)});case pe:case ve:case ge:return Object(_e.a)({},e,{topRatedMovies:la("TOP_RATED_MOVIES",e.topRatedMovies,t)});case he:case fe:case Ee:return Object(_e.a)({},e,{upcomingMovies:la("UPCOMING_MOVIES",e.upcomingMovies,t)});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case pa.b:return va;case tt:return Object(_e.a)({},e,{query:n.query});case Xe:return Object(_e.a)({},e,{isFetching:!0,isFetched:!1,foundMovies:[]});case $e:var r=n.results.map((function(e){return Ce({raw:e,posterSize:"w154"})}));return r=function(e){return e.filter((function(e){return!!e.title&&e.popularity>.25}))}(r).sort((function(e,t){return t.popularity-e.popularity})),Object(_e.a)({},e,{isFetching:!1,isFetched:!0,foundMovies:r});case Ze:case et:return Object(_e.a)({},e,{isFetching:!1,isFetched:!1,foundMovies:[]});default:return e}},entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case S:var r={},i=!0,o=!1,c=void 0;try{for(var s,l=n.genres[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r[u.id]=u.name}}catch(O){o=!0,c=O}finally{try{i||null==l.return||l.return()}finally{if(o)throw c}}return Object(_e.a)({},e,{genresById:r});case de:case ve:case fe:case ht:case bt:var d=Object(_e.a)({},e.moviesById),m=!0,p=!1,v=void 0;try{for(var g,h=n.results[Symbol.iterator]();!(m=(g=h.next()).done);m=!0){var f=g.value,E=Ce({raw:f,extended:!1});d[f.id]&&d[f.id].isExtendedDataLoaded?d[f.id]=Object(_e.a)({},d[f.id],{},E):d[f.id]=E,d[f.id].fetchDate=new Date}}catch(O){p=!0,v=O}finally{try{m||null==h.return||h.return()}finally{if(p)throw v}}return Object(_e.a)({},e,{moviesById:d});case pt:case Ut:var b=Ce({raw:n,extended:!0}),y=Object(_e.a)({},e.moviesById);return y[b.id]=b,y[b.id].fetchDate=new Date,Object(_e.a)({},e,{moviesById:y});default:return e}},router:Object($t.b)(ga)}),fa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Zt.c,Ea=Object(Zt.d)(ha,fa(Object(Zt.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return function(a){return function(n){var r,i,o,c,s,l,u,d,m,g,h;return p.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(r=n.type,i=n.payload,(o=n.meta)&&o.target===y){b.next=3;break}return b.abrupt("return",a(n));case 3:if(o.handlers&&Object.keys(o.handlers).length){b.next=5;break}return b.abrupt("return",console.error("action must contain non empty 'meta' object with at least one handler",n));case 5:if(c=o.url,s=o.method,l=o.params,u=o.handlers,d=o.task||{isCancelled:!1,isDone:!1,isDummy:!0},m=function(e){for(var t,a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return(t=console).log.apply(t,["%c[".concat(O,"]"),"font-weight: bold","[".concat(r,"]").concat(d.isDummy?"":" [".concat(d.id,"]"),": ").concat(e)].concat(n))},g=v.CancelToken.source(),!d.isDummy&&d.subscribe(E.events.CANCEL,(function(){g.cancel(),e&&m("Action has been canceled"),u.cancel&&f(u.cancel,null,t.dispatch)})),!d.isCancelled&&u.request&&(e&&m("Request handling",o,i),f(u.request,null,t.dispatch)),b.prev=11,"get"!==s.toLowerCase()){b.next=18;break}return b.next=15,p.a.awrap(M(c,l,g));case 15:h=b.sent,b.next=20;break;case 18:return console.error("Unknown request method: "+s,n),b.abrupt("return",a(n));case 20:u.success&&!d.isCancelled&&(e&&m("Success handling"),f(u.success,h.data,t.dispatch)),b.next=26;break;case 23:b.prev=23,b.t0=b.catch(11),d.isCancelled||(e&&m("Fail handling",b.t0),u.fail?f(u.fail,{error:b.t0},t.dispatch):console.error("Uncaught exception in ".concat(O,": "),b.t0));case 26:return b.prev=26,d.isDummy||d.isCancelled||d.done(),b.finish(26);case 29:case"end":return b.stop()}}),null,null,[[11,23,26,29]])}}}}(),Object(ta.a)(ga))));o.a.render(r.a.createElement(s.a,{store:Ea},r.a.createElement($t.a,{history:ga},r.a.createElement(Xt,null))),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.810ad9e7.chunk.js.map